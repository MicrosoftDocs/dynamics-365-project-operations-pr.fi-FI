---
title: Aikamerkintöjen laajentaminen
description: Tässä aiheesa on tietoja siitä, miten kehittäjät voivat laajentaa aikamerkinnän ohjausobjektia.
author: stsporen
manager: Annbe
ms.date: 10/01/2020
ms.topic: article
ms.service: dynamics-365-customerservice
ms.reviewer: kfend
ms.author: stsporen
ms.openlocfilehash: 93f411ad7c86beefcc35e7799a03987dacdcd62b
ms.sourcegitcommit: 5a29adce48133e09f051929e8544d6c2c93c025d
ms.translationtype: HT
ms.contentlocale: fi-FI
ms.lasthandoff: 10/02/2020
ms.locfileid: "3930876"
---
# <a name="extending-time-entries"></a><span data-ttu-id="a447b-103">Aikamerkintöjen laajentaminen</span><span class="sxs-lookup"><span data-stu-id="a447b-103">Extending time entries</span></span>

<span data-ttu-id="a447b-104">_**Koskee:** Project Operationsin resurssiin / muuhun kuin resurssiin perustuvia skenaarioita, Lite-käyttöönotto-kaupasta proformalaskutukseen_</span><span class="sxs-lookup"><span data-stu-id="a447b-104">_**Applies To:** Project Operations for resource/non-stocked based scenarios, Lite deployment - deal to proforma invoicing_</span></span>

<span data-ttu-id="a447b-105">Dynamics 365 Project Operations sisältää laajennettavan ja mukautetun aikamerkinnän ohjausobjektin.</span><span class="sxs-lookup"><span data-stu-id="a447b-105">Dynamics 365 Project Operations includes an extendable time entry custom control.</span></span> <span data-ttu-id="a447b-106">Tämä ohjausobjekti sisältää seuraavat ominaisuudet:</span><span class="sxs-lookup"><span data-stu-id="a447b-106">This control includes the following features:</span></span>

- <span data-ttu-id="a447b-107">Syötä aika vaaka suunnassa koko viikolle</span><span class="sxs-lookup"><span data-stu-id="a447b-107">Enter time horizontally over a week</span></span>
- <span data-ttu-id="a447b-108">Summat päivän, rivin tai viikon mukaan</span><span class="sxs-lookup"><span data-stu-id="a447b-108">Totals by day, row, or week</span></span>
- <span data-ttu-id="a447b-109">Rivien tai viikkojen kopioiminen</span><span class="sxs-lookup"><span data-stu-id="a447b-109">Copy rows or weeks</span></span>
- <span data-ttu-id="a447b-110">Aikamerkintä muodossa HH:mm tai HH.hh (muuntaa automaattisesti muotoon to HH.hh)</span><span class="sxs-lookup"><span data-stu-id="a447b-110">Time entry through HH:mm or HH.hh (automatically converts to HH.hh)</span></span>
- <span data-ttu-id="a447b-111">Tuonti delegoinneista, varauksista tai tapaamisista</span><span class="sxs-lookup"><span data-stu-id="a447b-111">Import from assignments, bookings or appointments</span></span>

<span data-ttu-id="a447b-112">Aikamerkintöjen laajentaminen on mahdollista kahdella alueella:</span><span class="sxs-lookup"><span data-stu-id="a447b-112">Extending time entries is possible in two areas:</span></span>
- [<span data-ttu-id="a447b-113">Mukautettujen aikamerkintöjen lisääminen omaan käyttöön</span><span class="sxs-lookup"><span data-stu-id="a447b-113">Add custom time entries for your own use</span></span>](#add)
- [<span data-ttu-id="a447b-114">Viikoitteiasen aikamerkinnän ohjausobjektin mukauttaminen</span><span class="sxs-lookup"><span data-stu-id="a447b-114">Customize the weekly Time Entry control</span></span>](#customize)

## <a name="add-custom-time-entries-for-your-own-use"></a><a name="add"></a><span data-ttu-id="a447b-115">Mukautettujen aikamerkintöjen lisääminen omaan käyttöön.</span><span class="sxs-lookup"><span data-stu-id="a447b-115">Add custom time entries for your own use.</span></span>

<span data-ttu-id="a447b-116">Aikamerkinnät ovat perusentiteetti, joka on suunniteltu käytettäväksi useissa skenaarioissa.</span><span class="sxs-lookup"><span data-stu-id="a447b-116">Time entries are a core entity that is designed to be used for multiple scenarios.</span></span> <span data-ttu-id="a447b-117">Huhtikuun 2020 1. julkaisuaallossa TESA-ydinratkaisu otettiin käyttöön, joka tarjoaa **Asetukset**-entiteetin ja uuden **Aikamerkinnän käyttäjä** -käyttöoikeusroolin.</span><span class="sxs-lookup"><span data-stu-id="a447b-117">In April Wave 1 2020, the TESA core solution was introduced, which provides a **Settings** entity and a new **Time Entry User** security role.</span></span> <span data-ttu-id="a447b-118">Myös uudet kentät, **msdyn_start** ja **msdyn_end**, joilla on suora suhde kenttään **msdyn_duration**, oli sisällytetty mukaan.</span><span class="sxs-lookup"><span data-stu-id="a447b-118">The new fields, **msdyn_start** and **msdyn_end** which have a direct relation to **msdyn_duration**, were also included.</span></span> <span data-ttu-id="a447b-119">Uusi entiteetti, käyttöoikeusrooli ja kentät mahdollistavat yhtenäisemmän lähetysmistavan aikamerkintöihin useiden tuotteiden välillä.</span><span class="sxs-lookup"><span data-stu-id="a447b-119">The new entity, security role, and fields allow for a more unified approach to time across multiple products.</span></span>


### <a name="time-source-entity"></a><span data-ttu-id="a447b-120">Ajan lähde -entiteetti</span><span class="sxs-lookup"><span data-stu-id="a447b-120">Time Source Entity</span></span>
| <span data-ttu-id="a447b-121">Field</span><span class="sxs-lookup"><span data-stu-id="a447b-121">Field</span></span> | <span data-ttu-id="a447b-122">Kuvaus</span><span class="sxs-lookup"><span data-stu-id="a447b-122">Description</span></span> | 
|-------|------------|
| <span data-ttu-id="a447b-123">Nimi</span><span class="sxs-lookup"><span data-stu-id="a447b-123">Name</span></span>  | <span data-ttu-id="a447b-124">Ajan lähde -merkinnän nimeä käytettiin valinta-arvona aikamerkinnän luonnin aikana.</span><span class="sxs-lookup"><span data-stu-id="a447b-124">The name of the Time Source entry used as the selection value during time entry creation.</span></span> |
| <span data-ttu-id="a447b-125">Ajan oletuslähde [Time Source: isdefault]</span><span class="sxs-lookup"><span data-stu-id="a447b-125">Default Time Source [Time Source: isdefault]</span></span> | <span data-ttu-id="a447b-126">Oletusarvon mukaan vain yksi aikalähde voidaan merkitä oletusaikalähteeksi.</span><span class="sxs-lookup"><span data-stu-id="a447b-126">By default, only one Time Source may be marked at the default time source.</span></span> <span data-ttu-id="a447b-127">Tämä ominaisuus sallii merkintöjen oletusarvoksi aikalähteen, jos sellaista ei ole määritetty.</span><span class="sxs-lookup"><span data-stu-id="a447b-127">This capability allows for entries to default to a time source if one isn't specified.</span></span> |
|<span data-ttu-id="a447b-128">Aikalähteen tyyppi [Time Source: sourcetype]</span><span class="sxs-lookup"><span data-stu-id="a447b-128">Time Source Type [Time Source: sourcetype]</span></span> | <span data-ttu-id="a447b-129">Lähdetyyppi on asetus (aikamerkinnän lähdetyyppi), joka sallii aikalähteen liittämisen sovellukseen.</span><span class="sxs-lookup"><span data-stu-id="a447b-129">The source type is an option (Time Entry Source Type) that allows for the association of the time source to an app.</span></span> <span data-ttu-id="a447b-130">Tähän asetusjoukkoon lisätään lisäarvoja, kun uusia sovelluksia lisätään.</span><span class="sxs-lookup"><span data-stu-id="a447b-130">Additional values will be added to this option set as additional applications are added.</span></span> <span data-ttu-id="a447b-131">Huomaa, että Microsoft varaa arvot, jotka ovat suurempia kuin 190 000 000.</span><span class="sxs-lookup"><span data-stu-id="a447b-131">Note that Microsoft reserves values greater than 190,000,000.</span></span>|


### <a name="time-entries-and-the-time-source-entity"></a><span data-ttu-id="a447b-132">Aikamerkinnät ja Ajan lähde -entiteetti</span><span class="sxs-lookup"><span data-stu-id="a447b-132">Time entries and the Time Source Entity</span></span>
<span data-ttu-id="a447b-133">Kukun aikamerkintä liitetään aikalähteen tietueeseen.</span><span class="sxs-lookup"><span data-stu-id="a447b-133">Each time entry is associated to a time source record.</span></span> <span data-ttu-id="a447b-134">Tämä tietue määrittää, miten ja mitkä sovellukset käsittelevät aikamerkinnän.</span><span class="sxs-lookup"><span data-stu-id="a447b-134">This record determines how and which applications should process the time entry.</span></span>

<span data-ttu-id="a447b-135">Aikamerkinnät ovat aina yksi yhtenäinen aikalohko, johon on linkitetty alku, loppu ja kesto.</span><span class="sxs-lookup"><span data-stu-id="a447b-135">Time entries are always one contiguous block of time with the start, end, and duration linked.</span></span>

<span data-ttu-id="a447b-136">Logiikka päivittää aikamerkinnän tietueen automaattisesti seuraavissa tilanteissa:</span><span class="sxs-lookup"><span data-stu-id="a447b-136">The logic will automatically update the time entry record in the following situations:</span></span>

- <span data-ttu-id="a447b-137">Jos kaksi seuraavista kolmesta kentästä on käytettävissä, kolmas lasketaan automaattisesti</span><span class="sxs-lookup"><span data-stu-id="a447b-137">If two of the three following fields are provided, the third is calculated automatically</span></span> 

    - <span data-ttu-id="a447b-138">**msdyn_start**</span><span class="sxs-lookup"><span data-stu-id="a447b-138">**msdyn_start**</span></span>
    - <span data-ttu-id="a447b-139">**msdyn_end**</span><span class="sxs-lookup"><span data-stu-id="a447b-139">**msdyn_end**</span></span>
    - <span data-ttu-id="a447b-140">**msdyn_duration**</span><span class="sxs-lookup"><span data-stu-id="a447b-140">**msdyn_duration**</span></span>

- <span data-ttu-id="a447b-141">Kentät **msdyn_start** ja **msdyn_end** ovat aikavyöhykeriippuvaisia.</span><span class="sxs-lookup"><span data-stu-id="a447b-141">The fields, **msdyn_start** and **msdyn_end** are timezone aware.</span></span>
- <span data-ttu-id="a447b-142">Aikamerkinnät, jotka on luotu vain **msdyn_date** ja **msdyn_duration** määrittämällä, alkavat keskiyöllä, ja **msdyn_start** ja **msdyn_end** päivittyvät vastaavasti.</span><span class="sxs-lookup"><span data-stu-id="a447b-142">Time entries created with only **msdyn_date** and **msdyn_duration** specified will start at midnight, and **msdyn_start** and **msdyn_end** will be updated accordingly.</span></span>

#### <a name="time-entry-types"></a><span data-ttu-id="a447b-143">Aikamerkinnän tyypit</span><span class="sxs-lookup"><span data-stu-id="a447b-143">Time entry types</span></span>

<span data-ttu-id="a447b-144">Aikamerkinnän tietueisiin on liitetty tyyppi, joka määrittää käyttäytymisen liitetyn sovelluksen lähetystyönkulussa.</span><span class="sxs-lookup"><span data-stu-id="a447b-144">Time entry records have an associated type that defines behavior in the submission flow for the associated application.</span></span>

|<span data-ttu-id="a447b-145">Label</span><span class="sxs-lookup"><span data-stu-id="a447b-145">Label</span></span> | <span data-ttu-id="a447b-146">Arvo</span><span class="sxs-lookup"><span data-stu-id="a447b-146">Value</span></span>|
|-----|-----|
|<span data-ttu-id="a447b-147">Tauolla</span><span class="sxs-lookup"><span data-stu-id="a447b-147">On break</span></span>   |<span data-ttu-id="a447b-148">192,355,000</span><span class="sxs-lookup"><span data-stu-id="a447b-148">192,355,000</span></span>|
|<span data-ttu-id="a447b-149">Matka</span><span class="sxs-lookup"><span data-stu-id="a447b-149">Travel</span></span> | <span data-ttu-id="a447b-150">192,355,001</span><span class="sxs-lookup"><span data-stu-id="a447b-150">192,355,001</span></span>|
|<span data-ttu-id="a447b-151">Ylityö</span><span class="sxs-lookup"><span data-stu-id="a447b-151">Overtime</span></span>   | <span data-ttu-id="a447b-152">192,354,320</span><span class="sxs-lookup"><span data-stu-id="a447b-152">192,354,320</span></span>|
|<span data-ttu-id="a447b-153">Työ</span><span class="sxs-lookup"><span data-stu-id="a447b-153">Work</span></span>   | <span data-ttu-id="a447b-154">192,350,000</span><span class="sxs-lookup"><span data-stu-id="a447b-154">192,350,000</span></span>|
|<span data-ttu-id="a447b-155">Poissaolo</span><span class="sxs-lookup"><span data-stu-id="a447b-155">Absence</span></span>    | <span data-ttu-id="a447b-156">192,350,001</span><span class="sxs-lookup"><span data-stu-id="a447b-156">192,350,001</span></span>|
|<span data-ttu-id="a447b-157">Loma</span><span class="sxs-lookup"><span data-stu-id="a447b-157">Vacation</span></span>   | <span data-ttu-id="a447b-158">192,350,002</span><span class="sxs-lookup"><span data-stu-id="a447b-158">192,350,002</span></span>|



## <a name="customize-the-weekly-time-entry-control"></a><a name="customize"></a><span data-ttu-id="a447b-159">Viikoittaisen aikamerkinnän ohjausobjektin mukauttaminen</span><span class="sxs-lookup"><span data-stu-id="a447b-159">Customize the weekly Time Entry control</span></span>
<span data-ttu-id="a447b-160">Sovelluskehittäjät voivat lisätä muita kenttiä ja hakuja muihin kohteisiin sekä ottaa käyttöön mukautettuja liiketoimintasääntöjä liiketoimintaskenaarioiden tueksi.</span><span class="sxs-lookup"><span data-stu-id="a447b-160">Developers can add additional fields and lookups to other entities, and implement custom business rules to support their business scenarios.</span></span>

### <a name="add-custom-fields-with-lookups-to-other-entities"></a><span data-ttu-id="a447b-161">Sellaisten mukautettujen kenttien lisääminen, joilla on hakuja muihin kohteisiin</span><span class="sxs-lookup"><span data-stu-id="a447b-161">Add custom fields with lookups to other entities</span></span>
<span data-ttu-id="a447b-162">Mukautetun kentän lisäämisessä viikoittaiseen ajansyöttöruudukkoon on kolme päävaihetta.</span><span class="sxs-lookup"><span data-stu-id="a447b-162">There are three main steps to adding a custom field to the weekly time entry grid.</span></span>

- <span data-ttu-id="a447b-163">Lisää mukautettu kenttä pikaluonti-valintaikkunaan.</span><span class="sxs-lookup"><span data-stu-id="a447b-163">Add the custom field to the quick create dialog box.</span></span>
- <span data-ttu-id="a447b-164">Määritä ruudukko näyttämään mukautettu kenttä.</span><span class="sxs-lookup"><span data-stu-id="a447b-164">Configure the grid to show the custom field.</span></span>
- <span data-ttu-id="a447b-165">Lisää mukautettu kenttä joko rivin muokkaamisen tai solun muokkauksen työnkulkuun.</span><span class="sxs-lookup"><span data-stu-id="a447b-165">Add the custom field to either the row edit task flow or the cell edit task flow.</span></span>

<span data-ttu-id="a447b-166">Varmista myös, että uudella kentällä on tarpeelliset kelpoisuustarkistukset rivin tai solun muokkauksen työnkulussa.</span><span class="sxs-lookup"><span data-stu-id="a447b-166">You must also make sure that the new field has the required validations in the row or cell edit task flow.</span></span> <span data-ttu-id="a447b-167">Tässä vaiheessa kenttä täytyy lukita aikamerkinnän tilan perusteella.</span><span class="sxs-lookup"><span data-stu-id="a447b-167">As part of this step, you must lock the field based on the time entry status.</span></span>

#### <a name="add-the-custom-field-to-the-quick-create-dialog-box"></a><span data-ttu-id="a447b-168">Lisää mukautettu kenttä pikaluonti-valintaikkunaan.</span><span class="sxs-lookup"><span data-stu-id="a447b-168">Add the custom field to the quick create dialog box</span></span>
<span data-ttu-id="a447b-169">Lisää mukautettu kenttä **Aikamerkinnän pikaluonti** -valintaikkunaan.</span><span class="sxs-lookup"><span data-stu-id="a447b-169">You must add the custom field to the **Create Time Entry Quick Create** dialog box.</span></span> <span data-ttu-id="a447b-170">Käyttäjät voivat kirjoittaa arvon, kun he lisäävät aikamerkintöjä valitsemalla **Uusi**.</span><span class="sxs-lookup"><span data-stu-id="a447b-170">Users can then enter a value when they add time entries by selecting **New**.</span></span>

#### <a name="configure-the-grid-to-show-the-custom-field"></a><span data-ttu-id="a447b-171">Määritä ruudukko näyttämään mukautettu kenttä.</span><span class="sxs-lookup"><span data-stu-id="a447b-171">Configure the grid to show the custom field</span></span>
<span data-ttu-id="a447b-172">Mukautettu kenttä voidaan lisätä viikoittaiseen ajansyöttöruudukkoon kahdella eri tavalla:</span><span class="sxs-lookup"><span data-stu-id="a447b-172">There are two ways add a custom field to the weekly time entry grid:</span></span>

  - <span data-ttu-id="a447b-173">Näkymän mukauttaminen ja mukautetun kentän lisääminen</span><span class="sxs-lookup"><span data-stu-id="a447b-173">Customize a view and add a custom field</span></span>
  - <span data-ttu-id="a447b-174">Uuden mukautetun oletusaikamerkinnän luominen</span><span class="sxs-lookup"><span data-stu-id="a447b-174">Create a new default custom time entry</span></span> 


<span data-ttu-id="a447b-175">**Näkymän mukauttaminen ja mukautetun kentän lisääminen**</span><span class="sxs-lookup"><span data-stu-id="a447b-175">**Customize a view and add a custom field**</span></span>

<span data-ttu-id="a447b-176">Voit mukauttaa **Omat viikoittaiset aikamerkinnät** -näkymää lisäämällä siihen mukautetun kentän.</span><span class="sxs-lookup"><span data-stu-id="a447b-176">You can customize the **My Weekly Time Entries** view and add the custom field to it.</span></span> <span data-ttu-id="a447b-177">Voit valita mukautetun kentän sijainnin ja koon ruudukossa muokkaamalla näitä näkymän ominaisuuksia.</span><span class="sxs-lookup"><span data-stu-id="a447b-177">You can choose the position and size of the custom field in the grid by editing those properties in the view.</span></span>

<span data-ttu-id="a447b-178">**Uuden mukautetun oletusaikamerkinnän luominen**</span><span class="sxs-lookup"><span data-stu-id="a447b-178">**Create a new default custom time entry**</span></span> 

<span data-ttu-id="a447b-179">Tässä näkymässä tulisi olla kentät **Kuvaus** ja **Ulkoiset huomautukset** niiden sarakkeiden lisäksi, joita haluat ruudukkoon.</span><span class="sxs-lookup"><span data-stu-id="a447b-179">This view should contain the **Description** and **External Comments** fields, in addition to the columns that you want to have in the grid.</span></span> 

1. <span data-ttu-id="a447b-180">Valitse mukautetun kentän sijainti, koko ja oletuslajittelujärjestys ruudukossa muokkaamalla näitä näkymän ominaisuuksia.</span><span class="sxs-lookup"><span data-stu-id="a447b-180">Choose the position, size, and default sort order of the grid by editing those properties in the view.</span></span> 
2. <span data-ttu-id="a447b-181">Määritä tämän näkymän mukautettu ohjausobjekti siten, että se on **Ajansyöttöruudukon** ohjausobjekti.</span><span class="sxs-lookup"><span data-stu-id="a447b-181">Configure the custom control for this view so that it's a **Time Entry Grid** control.</span></span> 
3. <span data-ttu-id="a447b-182">Lisää tämä ohjausobjekti näkymään ja valitse se verkolle, puhelimelle ja tabletille.</span><span class="sxs-lookup"><span data-stu-id="a447b-182">Add this control to the view, and select it for web, phone, and tablet.</span></span> 
4. <span data-ttu-id="a447b-183">Määritä viikoittaisen ajansyöttöruudukon parametrit.</span><span class="sxs-lookup"><span data-stu-id="a447b-183">Configure the parameters for the weekly time entry grid.</span></span> <span data-ttu-id="a447b-184">Aseta **Alkamispäivä**-kentäksi **msdyn_date**, aseta **Kesto**-kentäksi **msdyn_duration** ja aseta **Tila**-kentäksi **msdyn_entrystatus**.</span><span class="sxs-lookup"><span data-stu-id="a447b-184">Set the **Start Date** field to **msdyn_date**, set the **Duration** field to **msdyn_duration**, and set the **Status** field to **msdyn_entrystatus**.</span></span> 
5. <span data-ttu-id="a447b-185">Oletusnäkymälle **Vain luku -tilaluettelo** -kentäksi on asetettu **192350002,192350003,192350004**, **Rivinmuokkauksen työnkulku** -kentäksi on asetettu **msdyn_timeentryrowedit** ja **Solunmuokkauksen työnkulku** -kentäksi on asetettu **msdyn_timeentryedit**.</span><span class="sxs-lookup"><span data-stu-id="a447b-185">For the default view, the **Read-only Status List** field is set to **192350002,192350003,192350004**, the **Row Edit Task Flow** field is set to **msdyn_timeentryrowedit**, and the **Cell Edit Task Flow** field is set to **msdyn_timeentryedit**.</span></span> 
6. <span data-ttu-id="a447b-186">Voit mukauttaa näitä kenttiä, jos haluat lisätä tai poistaa vain luku -tilan tai käyttää toista tehtäväpohjaista kokemusta (TBX) rivien tai solujen muokkaamiseen.</span><span class="sxs-lookup"><span data-stu-id="a447b-186">You can customize these fields to add or remove read-only status, or to use a different task-based experience (TBX) for row or cell editing.</span></span> <span data-ttu-id="a447b-187">Nämä kentät on sidottava staattiseen arvoon.</span><span class="sxs-lookup"><span data-stu-id="a447b-187">These fields should be bound to a static value.</span></span>


> [!NOTE] 
> <span data-ttu-id="a447b-188">Molemmat vaihtoehdot poistavat joitakin valmiina olevia suodattimia entiteeteistä **Projekti** ja **Projektitehtävä**, joten kaikki valintanäkymät ovat näkyvissä näille entiteeteille.</span><span class="sxs-lookup"><span data-stu-id="a447b-188">Both options will remove some out-of-box filtering on **Project** and **Project Task** entities so that all lookup views for the entities will be visible.</span></span> <span data-ttu-id="a447b-189">Vain merkitykselliset valintanäkymät ovat näkyvissä valmiina.</span><span class="sxs-lookup"><span data-stu-id="a447b-189">Out-of-the-box, only the relevant lookup views are visible.</span></span>
<span data-ttu-id="a447b-190">Sinun täytyy määrittää mukautetulle kentälle asianmukainen työnkulku.</span><span class="sxs-lookup"><span data-stu-id="a447b-190">You must determine the appropriate task flow for the custom field.</span></span> <span data-ttu-id="a447b-191">Jos olet lisännyt kentän ruudukkoon, sen pitäisi todennäköisesti siirtyä siihen rivimuokkauksen työnkulkuun, jota käytetään kentissä, jotka koskevat koko aikamerkintäriviä</span><span class="sxs-lookup"><span data-stu-id="a447b-191">Most likely, if you added the field to the grid, it should go in the row edit task flow that is used for fields that apply to the whole row of time entries.</span></span> <span data-ttu-id="a447b-192">Jos mukautetulla kentällä on ainutkertainen arvo joka päivä, kuten mukautetulla kentällä **Päättymisaika**, sen pitäisi siirtyä solunmuokkauksen työnkulkuun.</span><span class="sxs-lookup"><span data-stu-id="a447b-192">If the custom field has a unique value every day, such as a custom field for **End time**, it should go in the cell edit task flow.</span></span>

<span data-ttu-id="a447b-193">Jos haluat lisätä mukautetun kentän työnkulkuun, vedä **Kenttä**-elementti asianmukaiseen kohtaan sivulla ja valitse sitten kentän ominaisuudet.</span><span class="sxs-lookup"><span data-stu-id="a447b-193">To add the custom field to a task flow, drag a **Field** element into the appropriate position on the page, and then set the field properties.</span></span> <span data-ttu-id="a447b-194">Määritä **Lähde**-ominaisuudeksi **Aikamerkintä** ja aseta **Tietokenttä**-ominaisuus muokatulle kentälle.</span><span class="sxs-lookup"><span data-stu-id="a447b-194">Set the **Source** property to **Time Entry**, and set the **Data Field** property to the custom field.</span></span> <span data-ttu-id="a447b-195">**Kenttä**-ominaisuus määrittää TBX-sivun näyttönimen.</span><span class="sxs-lookup"><span data-stu-id="a447b-195">The **Field** property specifies the display name on the TBX page.</span></span> <span data-ttu-id="a447b-196">Valitse **Käytä**, jos haluat tallentaa muutokset kenttään, ja valitse sitten **Päivitä**, jos haluat tallentaa muutokset sivulla.</span><span class="sxs-lookup"><span data-stu-id="a447b-196">Select **Apply** to save your changes to the field, and then select **Update** to save your changes to the page.</span></span>

<span data-ttu-id="a447b-197">Jos haluat käyttää uutta mukautettua TBX-sivua, luo uusi prosessi.</span><span class="sxs-lookup"><span data-stu-id="a447b-197">To use a new custom TBX page instead, create a new process.</span></span> <span data-ttu-id="a447b-198">Määritä luokaksi **Liiketoimintaprosessin kulku**, aseta entiteetiksi **Aikakirjaus**, ja aseta liiketoimintaprosessityypiksi **Aja prosessi työnkulkuna**.</span><span class="sxs-lookup"><span data-stu-id="a447b-198">Set the category to **Business Process Flow**, set the entity to **Time Entry**, and set the business process type to **Run process as a task flow**.</span></span> <span data-ttu-id="a447b-199">**Ominaisuuksissa** **Sivun nimi** -ominaisuuden tulisi olla asetettu sivun näyttönimeksi.</span><span class="sxs-lookup"><span data-stu-id="a447b-199">Under **Properties**, the **Page name** property should be set to the display name for the page.</span></span> <span data-ttu-id="a447b-200">Lisää kaikki tarvittavat kentät TBX-sivulle.</span><span class="sxs-lookup"><span data-stu-id="a447b-200">Add all the relevant fields to the TBX page.</span></span> <span data-ttu-id="a447b-201">Tallenna ja aktivoi prosessi ja päivitä sitten kyseisen tehtävänkulun mukautetun ohjausobjektin ominaisuus prosessin **Nimen** arvoksi.</span><span class="sxs-lookup"><span data-stu-id="a447b-201">Save and activate the process, and then update the custom control property for the relevant task flow to the value of **Name** on the process.</span></span>

### <a name="add-new-option-set-values"></a><span data-ttu-id="a447b-202">Lisää uusia asetusjoukkoarvoja</span><span class="sxs-lookup"><span data-stu-id="a447b-202">Add new option set values</span></span>
<span data-ttu-id="a447b-203">Jos haluat lisätä asetusjoukkoarvoja valmiina olevaan kentään, avaa kentän muokkaussivu ja valitse sen jälkeen **Kirjoita**-kohdassa **Muokkaa** asetusjoukon vieressä.</span><span class="sxs-lookup"><span data-stu-id="a447b-203">To add option set values to an out-of-box field, open the editing page for the field, and then, under **Type**, select **Edit** next to the option set.</span></span> <span data-ttu-id="a447b-204">Lisää seuraavaksi uusi asetus, jolla on mukautettu selite ja väri.</span><span class="sxs-lookup"><span data-stu-id="a447b-204">Next, add a new option that has a custom label and color.</span></span> <span data-ttu-id="a447b-205">Jos haluat lisätä uuden aikamerkinnän tilan, valmiin kentän nimi on  **Merkinnän tila**, ei **Tila**.</span><span class="sxs-lookup"><span data-stu-id="a447b-205">If you want to add a new time entry status, the out-of-box field is named **Entry Status**, not **Status**.</span></span>

### <a name="designate-a-new-time-entry-status-as-read-only"></a><span data-ttu-id="a447b-206">Uuden aikakirjaustilan määrittäminen vain luku -tilaan</span><span class="sxs-lookup"><span data-stu-id="a447b-206">Designate a new time entry status as read-only</span></span>
<span data-ttu-id="a447b-207">Jos haluat määrittää uuden aikamerkinnän tilaksi vain luku, lisää uuden aikamerkinnän arvo **Vain luku -tilaluettelo** -ominaisuuteen.</span><span class="sxs-lookup"><span data-stu-id="a447b-207">To designate a new time entry status as read-only, add the new time entry value to the **Read-only Status List** property.</span></span> <span data-ttu-id="a447b-208">Ajansyöttöruudukon muokattava osa lukitaan riveille, joilla on uusi tila.</span><span class="sxs-lookup"><span data-stu-id="a447b-208">The editable part of the time entry grid will be locked for rows that have the new status.</span></span>
<span data-ttu-id="a447b-209">Lisää seuraavaksi liiketoimintasäännöt lukitaksesi kaikki kentät **Aikamerkintärivin muokkaus** -ja **Aikamerkinnän muokkaus** -TBX-sivuilla.</span><span class="sxs-lookup"><span data-stu-id="a447b-209">Next, add business rules to lock all the fields on the **Time Entry Row Edit** and **Time Entry Edit** TBX pages.</span></span> <span data-ttu-id="a447b-210">Pääset sivujen liiketoimintasääntöihin avaamalla sivun liiketoimintaprosessieditorin ja valitsemalla sitten **Liiketoimintasäännöt**.</span><span class="sxs-lookup"><span data-stu-id="a447b-210">You can access the business rules for these pages by opening the business process flow editor for the page and then selecting **Business Rules**.</span></span> <span data-ttu-id="a447b-211">Voit lisätä uuden tilan aiemmin luotujen liiketoimintasääntöjen ehtoon tai voit lisätä uuden liiketoimintasäännön uutta tilaa varten.</span><span class="sxs-lookup"><span data-stu-id="a447b-211">You can add the new status to the condition in the existing business rules, or you can add a new business rule for the new status.</span></span>

### <a name="add-custom-validation-rules"></a><span data-ttu-id="a447b-212">Mukautettujen vahvistussääntöjen lisääminen</span><span class="sxs-lookup"><span data-stu-id="a447b-212">Add custom validation rules</span></span>
<span data-ttu-id="a447b-213">Voit lisätä viikoittaiseen aikamerkinnän ruudukkokokemukseen kahdentyyppisiä tarkistussääntöjä:</span><span class="sxs-lookup"><span data-stu-id="a447b-213">There are two types of validation rules that you can add for the weekly time entry grid experience:</span></span>

- <span data-ttu-id="a447b-214">Asiakaspuolen liiketoimintasäännöt, jotka toimivat pikaluontivalintaikkunoissa ja TBX-sivuilla.</span><span class="sxs-lookup"><span data-stu-id="a447b-214">Client-side business rules that work in quick create dialog boxes and on TBX pages.</span></span>
- <span data-ttu-id="a447b-215">Palvelinpuolen laajennuksen tarkistukset, jotka koskevat kaikkia aikamerkinnän päivityksiä.</span><span class="sxs-lookup"><span data-stu-id="a447b-215">Server-side plug-in validations that apply to all time entry updates.</span></span>

#### <a name="business-rules"></a><span data-ttu-id="a447b-216">Liiketoimintasäännöt</span><span class="sxs-lookup"><span data-stu-id="a447b-216">Business rules</span></span>
<span data-ttu-id="a447b-217">Liiketoimintasääntöjen avulla voit lukita ja vapauttaa kenttiä, kirjoittaa oletusarvoja kenttiin ja määrittää vahvistuksia, jotka edellyttävät tietoja vain nykyisestä ajansyöttötietueesta.</span><span class="sxs-lookup"><span data-stu-id="a447b-217">Use business rules to lock and unlock fields, enter default values in fields, and define validations that require information only from the current time entry record.</span></span> <span data-ttu-id="a447b-218">Pääset TBX-sivun liiketoimintasääntöihin avaamalla sivun liiketoimintaprosessieditorin ja valitsemalla sitten **Liiketoimintasäännöt**.</span><span class="sxs-lookup"><span data-stu-id="a447b-218">You can access the business rules for a TBX page by opening the business process flow editor for the page and then selecting **Business Rules**.</span></span> <span data-ttu-id="a447b-219">Voit sitten muokata aiemmin luotuja liiketoimintasääntöjä tai lisätä uuden liiketoimintasäännön.</span><span class="sxs-lookup"><span data-stu-id="a447b-219">You can then edit the existing business rules or add a new business rule.</span></span> <span data-ttu-id="a447b-220">Voit käyttää liiketoimintasääntöä ajamaan JavaScriptiä luodaksesi vielä mukautetumpia vahvistuksia.</span><span class="sxs-lookup"><span data-stu-id="a447b-220">For even more customized validations, you can use a business rule to run JavaScript.</span></span>

#### <a name="plug-in-validations"></a><span data-ttu-id="a447b-221">Laajennusvahvistukset</span><span class="sxs-lookup"><span data-stu-id="a447b-221">Plug-in validations</span></span>
<span data-ttu-id="a447b-222">Käytä laajennusvahvistuksia kaikkiin vahvistuksiin, jotka edellyttävät enemmän kontekstia kuin on käytettävissä yksittäisessä aikakirjaustietueessa, tai kaikkiin vahvistuksiin, jotka haluat suorittaa tekstisidonnaisina päivityksinä ruudukossa.</span><span class="sxs-lookup"><span data-stu-id="a447b-222">You should use plug-in validations for any validations that require more context than is available in a single time entry record, or for any validations that you want to run on inline updates in the grid.</span></span> <span data-ttu-id="a447b-223">Viimeistele vahvistus luomalla mukautettu laajennus **Aikakirjaus**-entiteettiin.</span><span class="sxs-lookup"><span data-stu-id="a447b-223">To complete the validation, create a custom plug-in on the **Time Entry** entity.</span></span>
