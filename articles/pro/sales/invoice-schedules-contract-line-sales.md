---
title: Laskutusaikataulujen luominen projektipohjaisella sopimusrivillä
description: Tässä aiheessa on tietoja laskutusaikataulun ja välitavoitteiden luomisesta sopimusriveille.
author: rumant
manager: Annbe
ms.date: 10/17/2020
ms.topic: article
ms.service: dynamics-365-customerservice
ms.reviewer: kfend
ms.author: rumant
ms.openlocfilehash: 2183b915dd2f67e03964246cb0689003e48363f7
ms.sourcegitcommit: 3a0c18823a7ad23df5aa3de272779313abe56c82
ms.translationtype: HT
ms.contentlocale: fi-FI
ms.lasthandoff: 10/20/2020
ms.locfileid: "4075582"
---
# <a name="creating-invoice-schedules-on-a-project-based-contract-line"></a><span data-ttu-id="45ab0-103">Laskutusaikataulujen luominen projektipohjaisella sopimusrivillä</span><span class="sxs-lookup"><span data-stu-id="45ab0-103">Creating invoice schedules on a project-based contract line</span></span>

<span data-ttu-id="45ab0-104">_**Käytetään:** Lite-käyttöönotto – kauppa proformalaskutukseen_</span><span class="sxs-lookup"><span data-stu-id="45ab0-104">_**Applies To:** Lite deployment - deal to proforma invoicing_</span></span>


<span data-ttu-id="45ab0-105">Voit luoda laskutusaikataulun projektipohjaiselle sopimusriville.</span><span class="sxs-lookup"><span data-stu-id="45ab0-105">You can an invoice schedule to a  project-based contract line.</span></span> <span data-ttu-id="45ab0-106">Laskutus on sallittu vain, kun palvelusopimus on voitettu ja olet luomassa projektisopimusta.</span><span class="sxs-lookup"><span data-stu-id="45ab0-106">Invoicing is only allowed after the contract is won to and you are creating a project contract.</span></span> <span data-ttu-id="45ab0-107">Laskun aikataulussa voi automaattisesti luoda projektipohjaisen sopimusrivin luonnoslaskuja.</span><span class="sxs-lookup"><span data-stu-id="45ab0-107">An invoice schedule allows draft invoices for a project-based contract line to be automatically created.</span></span> <span data-ttu-id="45ab0-108">Jos kuitenkin luot laskuja manuaalisesti, voit ohittaa laskuaikataulun luomisen sopimusriveille.</span><span class="sxs-lookup"><span data-stu-id="45ab0-108">If however, you only manually create invoices, you can skip creating invoice schedules on contract lines.</span></span>

## <a name="create-a-time-and-material-invoice-schedule-for-a-contract-line"></a><span data-ttu-id="45ab0-109">Aika- ja materiaalilaskutusaikataulun luominen sopimusriville</span><span class="sxs-lookup"><span data-stu-id="45ab0-109">Create a time and material invoice schedule for a contract line</span></span>

<span data-ttu-id="45ab0-110">Kun projektipohjaisella sopimusrivillä on aika- ja materiaalilaskutapa, voit luoda päivämäärään perustuvan laskuaikataulun.</span><span class="sxs-lookup"><span data-stu-id="45ab0-110">When a project-based contract line has a time and material billing method, you can create a date-based invoice schedule.</span></span> <span data-ttu-id="45ab0-111">Jos haluat luoda päivämäärään perustuvan laskutusaika taulun automaattisesti, tee seuraavat toimet.</span><span class="sxs-lookup"><span data-stu-id="45ab0-111">To automatically generate a date-based invoice schedule, complete the following steps.</span></span>

1. <span data-ttu-id="45ab0-112">Siirry kohtaan **Asetukset** > **Laskujen tiheys** ja määritä laskujen tiheys.</span><span class="sxs-lookup"><span data-stu-id="45ab0-112">Go to **Settings** > **Invoice frequencies** and set up an invoice frequence.</span></span>
2. <span data-ttu-id="45ab0-113">Siirry projektisopimustietueeseen ja valitse haluamasi päivämäärä **Yhteenveto** -välilehden **pyydetty toimituspvm** -kentässä.</span><span class="sxs-lookup"><span data-stu-id="45ab0-113">Go to the project contract record, and on the **Summary** tab, in the **Requested Delivery Date** field, select a date.</span></span>
3. <span data-ttu-id="45ab0-114">Avaa **aika- ja materiaali** -sopimusrivi, jolle haluat luoda päivämäärään perustuvan laskutusaikataulun.</span><span class="sxs-lookup"><span data-stu-id="45ab0-114">Open the **Time and Material** contract line that you are making the date-based invoice schedule for.</span></span> 
4. <span data-ttu-id="45ab0-115">Valitse **Laskutusaikataulu** -välilehdellä laskutuksen aloitus- ja laskujen tiheys -kenttien arvot.</span><span class="sxs-lookup"><span data-stu-id="45ab0-115">On the **Invoice Schedule** tab, select the billing start date and the invoice frequency.</span></span>
5. <span data-ttu-id="45ab0-116">Valitse aliruudukossa **Luo laskutusaikataulu**.</span><span class="sxs-lookup"><span data-stu-id="45ab0-116">On the subgrid, select **Generate Invoice Schedule**.</span></span> <span data-ttu-id="45ab0-117">Luodaan laskutusaikataulu, jossa on **Laskun suorituspäivä** -, **Tapahtuman katkaisupäivä** - ja **Suorituksen tila** -kentät määritetty seuraavasti:</span><span class="sxs-lookup"><span data-stu-id="45ab0-117">The invoice schedule is generated with the **Invoice Run Date** , **Transaction Cutoff Date** and **Run Status** fields set as follows:</span></span>

    - <span data-ttu-id="45ab0-118">**Laskun suorituspäivä** : Tämän päivämäärän määrää laskutiheys.</span><span class="sxs-lookup"><span data-stu-id="45ab0-118">**Invoice Run Date** : This date is dictated by the invoice frequency.</span></span>
    - <span data-ttu-id="45ab0-119">**Tapahtuman katkaisupäivä** : Päivä ennen laskun suorituspäivää.</span><span class="sxs-lookup"><span data-stu-id="45ab0-119">**Transaction Cutoff Date** : The day before the invoice run date.</span></span>
    - <span data-ttu-id="45ab0-120">**Suorituksen tila** : Määritetään automaattisesti **Ei suoritettu**.</span><span class="sxs-lookup"><span data-stu-id="45ab0-120">**Run Status** : Automatically set to **Not Run**.</span></span> <span data-ttu-id="45ab0-121">Kun automaattisen laskun luonnin työ suoritetaan tietylle laskun suorituspäivälle, kentän arvoksi päivitetään joko **Suoritus onnistui** tai **Suoritus epäonnistui**.</span><span class="sxs-lookup"><span data-stu-id="45ab0-121">When the automatic invoice creation job runs for a certain invoice run date, this field is updated to **Run Successful** or **Run Failed**.</span></span>


## <a name="create-a-fixed-price-invoice-schedule-for-a-contract-line"></a><span data-ttu-id="45ab0-122">Kiinteähintaisen laskutusaikataulun luominen sopimusriville</span><span class="sxs-lookup"><span data-stu-id="45ab0-122">Create a fixed price invoice schedule for a contract line</span></span>

<span data-ttu-id="45ab0-123">Kun sopimusrivillä on kiinteähintainen laskutusmenetelmä, voit luoda välitavoitepohjaisen laskutusaikataulun.</span><span class="sxs-lookup"><span data-stu-id="45ab0-123">When the contract line has a fixed billing method, you can create a milestone-based invoice schedule.</span></span> <span data-ttu-id="45ab0-124">Suorita seuraavat vaiheet, jotta voit luoda välitavoitepohjaisen laskuaikataulun kiinteälle joukolle tasaisesti jaettuja välitavoitteita kalenterijaksolle.</span><span class="sxs-lookup"><span data-stu-id="45ab0-124">Complete the following steps to generate a milestone-based invoice schedule for a fixed set of equally distributed milestones for the calendar period.</span></span>

1. <span data-ttu-id="45ab0-125">Siirry kohtaan **Asetukset** > **Laskujen tiheys** ja määritä laskujen tiheys.</span><span class="sxs-lookup"><span data-stu-id="45ab0-125">Go to **Settings** > **Invoice frequencies** and set up an invoice frequence.</span></span>
2. <span data-ttu-id="45ab0-126">Siirry projektisopimustietueeseen ja valitse haluamasi päivämäärä **Yhteenveto** -välilehden **pyydetty toimituspvm** -kentässä.</span><span class="sxs-lookup"><span data-stu-id="45ab0-126">Go to the project contract record, and on the **Summary** tab, in the **Requested Delivery Date** field, select a date.</span></span>
3. <span data-ttu-id="45ab0-127">Avaa **kiinteähintainen** sopimusrivi, jolle luot välitavoiteaikataulun.</span><span class="sxs-lookup"><span data-stu-id="45ab0-127">Open the **Fixed Price** contract line that you are creating the milestone schedule for.</span></span> <span data-ttu-id="45ab0-128">Valitse **Laskutusvälitavoitteet** -välilehdellä laskutuksen aloitus- ja laskujen tiheys -kenttien arvot.</span><span class="sxs-lookup"><span data-stu-id="45ab0-128">On the **Billing Milestones** tab, select the billing start date and the invoice frequency.</span></span> 
4. <span data-ttu-id="45ab0-129">Valitse aliruudukossa **Luo jaksoittaiset välitavoitteet**.</span><span class="sxs-lookup"><span data-stu-id="45ab0-129">On the subgrid, select **Generate Periodic Milestones**.</span></span> <span data-ttu-id="45ab0-130">Laskun aikataulu luodaan siten, että **välitavoitteen nimi** , **välitavoitteen päivä** ja **välitavoitteen summa** -kentät ovat seuraavat:</span><span class="sxs-lookup"><span data-stu-id="45ab0-130">The  invoice schedule is generated with the **Milestone Name** , **Milestone Date** , and **Milestone Amount** fields set as follows:</span></span>

    - <span data-ttu-id="45ab0-131">**Välitavoitteen nimi** : Tämän päivämäärän määrää laskutiheys.</span><span class="sxs-lookup"><span data-stu-id="45ab0-131">**Milestone Name** : This date is dictated by the invoice frequency.</span></span>
    - <span data-ttu-id="45ab0-132">**Välitavoitteen päivämäärä** : Tämän päivämäärän määrää laskutiheys.</span><span class="sxs-lookup"><span data-stu-id="45ab0-132">**Milestone Date** : This date is dictated by the invoice frequency.</span></span>
    - <span data-ttu-id="45ab0-133">**Välitavoitteen summa** : Tämä määrä lasketaan jakamalla sopimuksen summa sopimusrivillä välitavoitteiden määrällä, joka määräytyy laskujen tiheyden, laskutuksen alkamispäivän ja pyydettyjen toimituspäivien mukaan.</span><span class="sxs-lookup"><span data-stu-id="45ab0-133">**Milestone Amount** : This amount is calculated by dividing the contract amount on the contract line by the number of milestones as dictated by the frequency, billing start, and requested delivery dates.</span></span>

    <span data-ttu-id="45ab0-134">Jos sopimusrivillä on arvo **arvioitu verosumma** -kentässä, tämä kenttä on myös suhteutettu kuhunkin välitavoitteeseen samalla tavalla, kun luodaan kausittaisia välitavoitteita.</span><span class="sxs-lookup"><span data-stu-id="45ab0-134">If the contract line has a value in the **Estimated Tax amount** field, then this field is also apportioned to each milestone equally when generating periodic milestones.</span></span>

<span data-ttu-id="45ab0-135">Laskutuksen välitavoitteiden on vastattava sopimusrivin sovittua arvoa.</span><span class="sxs-lookup"><span data-stu-id="45ab0-135">Billing milestones should equal the contracted value of the contract line.</span></span> <span data-ttu-id="45ab0-136">Jos näin ei ole, saat virheilmoituksen **sopimusrivi** -sivulla.</span><span class="sxs-lookup"><span data-stu-id="45ab0-136">If they don't, you will receive an  error on the **Contract Line** page.</span></span> <span data-ttu-id="45ab0-137">Voit korjata virheen tarkistamalla, että laskun välitavoitteet ovat rivin sopimuksen arvon mukaisia luomalla, muokkaamalla tai poistamalla välitavoitteita.</span><span class="sxs-lookup"><span data-stu-id="45ab0-137">You can fix the error by verifying that the billing milestones total the contracted value of the line by creating, editing, or deleting milestones.</span></span> <span data-ttu-id="45ab0-138">Kun muutokset on tehty, voit poistaa virheen päivittämällä sivun.</span><span class="sxs-lookup"><span data-stu-id="45ab0-138">After the changes are made, refresh the page to remove the error.</span></span>

### <a name="manually-create-milestones"></a><span data-ttu-id="45ab0-139">Luo välitavoitteet manuaalisesti</span><span class="sxs-lookup"><span data-stu-id="45ab0-139">Manually create milestones</span></span>

<span data-ttu-id="45ab0-140">Voit luoda kiinteähintaisia välitavoitteita myös manuaalisesti, jos niitä ei jaeta jaksoittain.</span><span class="sxs-lookup"><span data-stu-id="45ab0-140">You can generate fixed price milestones manually when they are not periodically split.</span></span> <span data-ttu-id="45ab0-141">Luo välitavoite manuaalisesti suorittamalla seuraavat vaiheet.</span><span class="sxs-lookup"><span data-stu-id="45ab0-141">Complete the following steps to manually create a milestone.</span></span>

1. <span data-ttu-id="45ab0-142">Avaa kiinteän hinnan sopimusrivi, jolle olet luomassa välitavoitetta, ja **Valitse laskun ajoitus** -välilehden aliruudukossa **+ Luo uusi sopimusrivivälitavoite**.</span><span class="sxs-lookup"><span data-stu-id="45ab0-142">Open the fixed price contract line that you are creating a milestone for, and on the **Invoice Schedule** tab, on the subgrid, select **+ Create new Contract line milestone**.</span></span> 
2. <span data-ttu-id="45ab0-143">Kirjoita **välitavoitteen luonti** -sivulla seuraavan taulukon edellyttämät tiedot.</span><span class="sxs-lookup"><span data-stu-id="45ab0-143">On the **Milestone Creation** page, enter the required information based on the following table.</span></span>

| <span data-ttu-id="45ab0-144">Field</span><span class="sxs-lookup"><span data-stu-id="45ab0-144">Field</span></span> | <span data-ttu-id="45ab0-145">Sijainti</span><span class="sxs-lookup"><span data-stu-id="45ab0-145">Location</span></span> | <span data-ttu-id="45ab0-146">Relevanssi, tarkoitus ja opastus</span><span class="sxs-lookup"><span data-stu-id="45ab0-146">Relevance, purpose, and guidance</span></span> | <span data-ttu-id="45ab0-147">Loppupään vaikutus</span><span class="sxs-lookup"><span data-stu-id="45ab0-147">Downstream impact</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="45ab0-148">Välitavoitteen nimi</span><span class="sxs-lookup"><span data-stu-id="45ab0-148">Milestone Name</span></span> | <span data-ttu-id="45ab0-149">Pikaluonti</span><span class="sxs-lookup"><span data-stu-id="45ab0-149">Quick Create</span></span> | <span data-ttu-id="45ab0-150">Välitavoitteen nimen tekstikenttä.</span><span class="sxs-lookup"><span data-stu-id="45ab0-150">Text field for the name of the milestone.</span></span> | <span data-ttu-id="45ab0-151">Tämä siirretään projektin sopimusrivin välitavoitteeseen ja laskuun.</span><span class="sxs-lookup"><span data-stu-id="45ab0-151">This is carried over to the project contract line milestone and the invoice.</span></span> |
| <span data-ttu-id="45ab0-152">Projektin tehtävä</span><span class="sxs-lookup"><span data-stu-id="45ab0-152">Project Task</span></span> | <span data-ttu-id="45ab0-153">Pikaluonti</span><span class="sxs-lookup"><span data-stu-id="45ab0-153">Quick Create</span></span> | <span data-ttu-id="45ab0-154">Jos välitavoite on sidottu projektitehtävään, lisää tähän viitteeseen mukautettu logiikka asettaaksesi välitavoitteen tilan tehtävän tilan perusteella.</span><span class="sxs-lookup"><span data-stu-id="45ab0-154">If the milestone is tied to project task, use this reference to add custom logic to set the milestone status based on the task status.</span></span> | <span data-ttu-id="45ab0-155">Sovelluksella ei ole tämän tehtävän viitteen suhteen vaikutusta loppupäähän.</span><span class="sxs-lookup"><span data-stu-id="45ab0-155">The application, doesn't have any downstream impact of this reference to a task.</span></span> |
| <span data-ttu-id="45ab0-156">Välitavoitteen päivämäärä</span><span class="sxs-lookup"><span data-stu-id="45ab0-156">Milestone Date</span></span> | <span data-ttu-id="45ab0-157">Pikaluonti</span><span class="sxs-lookup"><span data-stu-id="45ab0-157">Quick Create</span></span> | <span data-ttu-id="45ab0-158">Määritä päivämäärä, jolloin automaattisen laskunluontiprosessin on etsittävä tämän välitavoitteen tila, jotta se voidaan ottaa huomioon laskutusta varten.</span><span class="sxs-lookup"><span data-stu-id="45ab0-158">Set the date on which the automatic invoice creation process should look for the status of this milestone to consider it for invoicing.</span></span> | <span data-ttu-id="45ab0-159">Tämä siirretään projektin sopimusrivin välitavoitteeseen ja laskuun.</span><span class="sxs-lookup"><span data-stu-id="45ab0-159">This is carried over to the project contract line milestone and the invoice.</span></span> |
| <span data-ttu-id="45ab0-160">Laskun tila</span><span class="sxs-lookup"><span data-stu-id="45ab0-160">Invoice Status</span></span> | <span data-ttu-id="45ab0-161">Pikaluonti</span><span class="sxs-lookup"><span data-stu-id="45ab0-161">Quick Create</span></span> | <span data-ttu-id="45ab0-162">Kun välitavoite luodaan, tämän tilan arvoksi on aina määritetty **Ei valmis laskutettavaksi** tai **Ei aloitettu**.</span><span class="sxs-lookup"><span data-stu-id="45ab0-162">When a milestone is created, this status is always set to **Not Ready for Invoicing** or **Not Started**.</span></span> | <span data-ttu-id="45ab0-163">Tämä siirretään projektin sopimusrivin välitavoitteeseen ja laskuun.</span><span class="sxs-lookup"><span data-stu-id="45ab0-163">This is carried over to the project contract line milestone and the invoice.</span></span> |
| <span data-ttu-id="45ab0-164">Rivisumma</span><span class="sxs-lookup"><span data-stu-id="45ab0-164">Line Amount</span></span> | <span data-ttu-id="45ab0-165">Pikaluonti</span><span class="sxs-lookup"><span data-stu-id="45ab0-165">Quick Create</span></span> | <span data-ttu-id="45ab0-166">Välitavoitteen summa tai arvo, joka laskutetaan asiakkaalta.</span><span class="sxs-lookup"><span data-stu-id="45ab0-166">Amount or value of the milestone that will be invoiced to the customer.</span></span> | <span data-ttu-id="45ab0-167">Tämä siirretään projektin sopimusrivin välitavoitteeseen ja laskuun.</span><span class="sxs-lookup"><span data-stu-id="45ab0-167">This is carried over to the project contract line milestone and the invoice.</span></span> |
| <span data-ttu-id="45ab0-168">Vero</span><span class="sxs-lookup"><span data-stu-id="45ab0-168">Tax</span></span> | <span data-ttu-id="45ab0-169">Pikaluonti</span><span class="sxs-lookup"><span data-stu-id="45ab0-169">Quick Create</span></span> | <span data-ttu-id="45ab0-170">Välitavoitteessa käytetty verosumma.</span><span class="sxs-lookup"><span data-stu-id="45ab0-170">The tax amount applied on the milestone.</span></span> | <span data-ttu-id="45ab0-171">Tämä siirretään projektin sopimusrivin välitavoitteeseen ja laskuun.</span><span class="sxs-lookup"><span data-stu-id="45ab0-171">This is carried over to the project contract line milestone and the invoice.</span></span> |

3. <span data-ttu-id="45ab0-172">Valitse **Tallenna ja sulje**.</span><span class="sxs-lookup"><span data-stu-id="45ab0-172">Select **Save and Close**.</span></span>
<span data-ttu-id="45ab0-173">| Rivimäärä | Pikaluonti | Asiakkaalta laskutettavan välitavoitteen summa tai arvo | Tämä välitetään projektisopimusrivin välitavoitteeseen ja laskuun | | Vero | Pikaluonti | Välitavoitteessa käytettävä verosumma | Tämä välitetään projektisopimusrivin välitavoitteeseen ja laskuun |</span><span class="sxs-lookup"><span data-stu-id="45ab0-173">| Line Amount | Quick create | Amount or Value of the Milestone that will be invoiced to the customer | This is propagated to the Project contract line Milestone and to the Invoice | | Tax | Quick create | Tax amount that will be applied on the Milestone | This is propagated to the Project contract line Milestone and to the Invoice |</span></span>
