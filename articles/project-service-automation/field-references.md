---
title: Mukautettujen kenttien lisääminen hinta- ja tapahtumaentiteetteihin
description: Tämä aihe antaa tietoja mukautettujen kenttien lisäämisestä hinnanmäärittely- ja tapahtumaentiteetteihin.
author: Rumant
manager: kfend
ms.custom:
- dyn365-projectservice
ms.date: 11/26/2018
ms.topic: article
ms.prod: Project Service
ms.service: business-applications
ms.assetid: 1d6e996b-dcf2-473f-b642-edd33d8d6d4e
ms.author: rumant
audience: Admin
search.audienceType:
- admin
- customizer
- enduser
search.app:
- D365PS
ms.openlocfilehash: 95cea2c5d499335c24d31b725ed68901808ee084
ms.sourcegitcommit: 8c786230ef2a497280885b827162561776e2eb00
ms.translationtype: HT
ms.contentlocale: fi-FI
ms.lasthandoff: 03/24/2020
ms.locfileid: "3751104"
---
# <a name="add-custom-fields-to-price-setup-and-transactional-entities"></a><span data-ttu-id="7ab9b-103">Mukautettujen kenttien lisääminen hinta- ja tapahtumaentiteetteihin</span><span class="sxs-lookup"><span data-stu-id="7ab9b-103">Add custom fields to price setup and transactional entities</span></span> 
<span data-ttu-id="7ab9b-104">Tässä aiheessa oletetaan, että olet suorittanut aiheen [Luo mukautettuja kenttiä ja entiteettejä](create-custom-fields-entities.md) vaiheet.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-104">This topic assumes that you have completed the procedures in the topic, [Create custom fields and entities](create-custom-fields-entities.md).</span></span> <span data-ttu-id="7ab9b-105">Jos et ole suorittanut näitä toimintosarjoja loppuun, palaa niihin ja suorita ne, ja palaa sen jälkeen tähän aiheeseen.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-105">If you haven't completed those procedures, go back and complete them and then return to this topic.</span></span> 

<span data-ttu-id="7ab9b-106">Tämän aiheen vaiheet näyttävät, miten vaadittavat mukautettujen kenttien viitteet lisätään entiteetteihin ja käyttöliittymän (UI) elementteihin, kuten lomakkeisiin ja näkymiin.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-106">In this topic, the procedures will show you how to add the required custom field references to entities and to the user interface (UI) elements such as forms and views.</span></span>

## <a name="add-custom-pricing-dimension-fields"></a><span data-ttu-id="7ab9b-107">Mukautettujen hintadimensiokenttien lisääminen</span><span class="sxs-lookup"><span data-stu-id="7ab9b-107">Add custom pricing dimension fields</span></span> 
<span data-ttu-id="7ab9b-108">Kun mukautettuja kenttiä ja entiteettejä on luotu, seuraavana vaiheena on päivittää hinnanmäärittely- ja tapahtumaentiteetit ottamaan huomioon mukautetut entiteetit tai asetusjoukot luomalla viitekenttiä.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-108">After custom fields and entities have been created, the next step is to make price setup and transactional entities aware of any custom entities or option sets by creating reference fields.</span></span> <span data-ttu-id="7ab9b-109">Riippuen siitä, sisältääkö hinnoitteludimensioiden luettelo asetusjoukkodimensioita vai entiteettidimensioita vai molempia, noudata tilanteen mukaan vain kohdan **Asetusjoukkoperusteiset mukautetut hinnoitteludimensiot** tai kohdan **Entiteettiperusteiset mukautetut hinnoitteludimensiot** tai niiden molempien ohjeita.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-109">Depending on whether your pricing dimensions list includes option set dimensions or entity dimensions or both, follow only the steps in **Option set-based custom pricing dimensions** or **Entity-based custom pricing dimensions**, or both, respectively.</span></span>

### <a name="option-set-based-custom-pricing-dimensions"></a><span data-ttu-id="7ab9b-110">Asetusjoukkoperusteiset mukautetut hinnoitteludimensiot</span><span class="sxs-lookup"><span data-stu-id="7ab9b-110">Option set-based custom pricing dimensions</span></span>
<span data-ttu-id="7ab9b-111">Kun mukautettu hinnoitteludimensio perustuu asetusjoukkoon, lisää se kenttänä keskeisiin Project Service -entiteetteihin.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-111">When a custom pricing dimension is option set-based, add it as a field to key Project Service entities.</span></span> <span data-ttu-id="7ab9b-112">Seuraavassa menettelyssä arvoja **Resurssin työn sijainti** ja **Resurssin työtunnit** käytetään asetusjoukkoperusteisina hinnoitteludimensioina.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-112">In the following procedure, **Resource Work Location** and **Resource Work Hours** are used as the option set-based pricing dimensions.</span></span> <span data-ttu-id="7ab9b-113">Ne on ensin lisättävä kenttinä hinnoitteluentiteetteihin ja arvoihin **Roolin hinta** ja **Roolin hinnankorotus**.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-113">These must first be added as fields to the pricing entities, **Role Price** and **Role Price Markup**.</span></span>

1. <span data-ttu-id="7ab9b-114">Napsauta Project Service Automationissa (PSA:ssa) **Asetukset** > **Ratkaisut** ja kaksoisnapsauta sitten **\<organisaatiosi nimi>: hinnoitteludimensiot**.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-114">In Project Service Automation (PSA), click **Settings** > **Solutions**, and then double-click **\<your organization name> pricing dimensions**.</span></span> 
2. <span data-ttu-id="7ab9b-115">Valitse vasemman siirtymisruudun Ratkaisunhallinnassa **Entiteetit > Roolin hinta**.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-115">In Solution Explorer, on the left navigation pane, select **Entities > Role Price**.</span></span>
3. <span data-ttu-id="7ab9b-116">Laajenna entiteetti **Roolin hinta** ja valitse **Kentät**.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-116">Expand the entity **Role Price** and select **Fields**.</span></span>
4. <span data-ttu-id="7ab9b-117">Napsauta **Uusi** luodaksesi kentän nimellä **Resurssin työn sijainti** ja valitse kentän tyypiksi **Asetusjoukko**.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-117">Click **New** to create a new field called **Resource Work Location** and select **Option set** as the field type.</span></span> 
5. <span data-ttu-id="7ab9b-118">Valitse **Käytä olemassa olevaa asetusjoukkoa**, valitse asetusjoukko **Resurssin työn sijainti** ja napsauta **Tallenna**.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-118">Select **Use an existing Option set**, select the **Resource Work Location** option set, and then click **Save**.</span></span>
6. <span data-ttu-id="7ab9b-119">Toista vaiheet 1–5 lisätäksesi tämän kentän entiteettiin **Roolin hinnankorotus**.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-119">Repeat steps 1 - 5 to add this field to the **Role Price Markup** entity.</span></span> 
7. <span data-ttu-id="7ab9b-120">Toista vaiheet 1–5 **Resurssin työtunnit** -asetusjoukon osalta.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-120">Repeat steps 1 - 5 for the **Resource Work Hours** option set.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="7ab9b-121">Kun lisäät kentän useisiin entiteetteihin, käytä niissä kaikissa samaa kentän nimeä.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-121">When you add a field to more than one entity, use the same field name across all of the entities.</span></span> 

> ![Resurssin työn sijainnin lisääminen Roolin hintaan](media/RWL-Field.png)

<span data-ttu-id="7ab9b-123">Projektin myynti- ja arviointivaiheissa arvioita työmäärästä, joka tarvitaan töiden **Paikallinen** ja **Asiakkaan tiloissa** suorittamiseen arvoissa **Tavalliset työtunnit** ja **Ylityötunnit**, käytetään tarjouksen/projektin arvon arviointiin.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-123">In the sales and estimation phases for a project, estimates of the work effort that is required to complete **Local** and **Onsite** work, in **Regular hours** and **Overtime hours**  are used to estimate the value of the Quote/Project.</span></span> <span data-ttu-id="7ab9b-124">Kentät **Resurssin työn sijainti** ja **Resurssin työtunnit** lisätään arviointientiteetteihin **Tarjousrivin tiedot**, **Sopimusrivin tiedot**, **Projektiryhmän jäsen** ja **Arviorivi**.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-124">The fields **Resource Work Location** and **Resource Work Hours** will be added to the estimation entities, **Quote Line Detail**, **Contract Line detail**, **Project Team Member**, and **Estimate Line**.</span></span>

1. <span data-ttu-id="7ab9b-125">Napsauta PSA:ssa **Asetukset** > **Ratkaisut** kaksoisnapsauta sitten **\<organisaatiosi nimi>: hinnoitteludimensiot**.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-125">In PSA, click **Settings** > **Solutions**, and then double-click **\<your organization name> pricing dimensions**.</span></span> 
2. <span data-ttu-id="7ab9b-126">Valitse vasemman siirtymisruudun Ratkaisunhallinnassa **Entiteetit > Tarjousrivin tiedot**.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-126">In Solution Explorer, on the left navigation pane, select **Entities > Quote Line Detail**.</span></span>
3. <span data-ttu-id="7ab9b-127">Laajenna **Tarjousrivin tiedot** -entiteetti ja valitse **Kentät**.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-127">Expand the **Quote Line Detail** entity, and select **Fields**.</span></span>
4. <span data-ttu-id="7ab9b-128">Napsauta **Uusi** luodaksesi kentän nimellä **Resurssin työn sijainti** ja valitse kentän tyypiksi **Asetusjoukko**.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-128">Click **New** to create a new field called **Resource Work Location** and select the field type, **Option set**.</span></span> 
5. <span data-ttu-id="7ab9b-129">Valitse **Käytä olemassa olevaa asetusjoukkoa** ja **Resurssin työn sijainti** ja napsauta sitten **Tallenna**.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-129">Select **Use an existing Option set** and **Resource Work Location**, and then click **Save**.</span></span>
6. <span data-ttu-id="7ab9b-130">Toista vaiheet 1–5 lisätäksesi tämän kentän entiteetteihin **Projektin sopimusrivin tiedot**, **Projektiryhmän jäsen** ja **Arviorivi**.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-130">Repeat steps 1 - 5 to add this field to the **Project Contract line detail**, **Project Team Member**, and **Estimate Line** entities.</span></span>
7. <span data-ttu-id="7ab9b-131">Toista vaiheet 1–6 **Resurssin työtunnit** -asetusjoukon osalta.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-131">Repeat steps 1 - 6 for the **Resource Work Hours** option set.</span></span> 

> ![Resurssin työn sijainnin lisääminen Arvioriviin](media/RWL-Default-Value.png)


<span data-ttu-id="7ab9b-133">Toimitusta ja laskutusta varten suoritettu työ on hinnoiteltava oikein, jotta projektin todellisissa arvoissa voidaan valita suoritettiinko se arvolla **Paikallinen** vai **Asiakkaan tiloissa** ja arvolla **Tavalliset työtunnit** vai **Ylityötunnit**.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-133">For delivery and invoicing, completed work needs to be accurately priced to select whether it was performed **Local** or **Onsite**, and whether it was completed during **Regular hours** or **Overtime** on the Project Actuals.</span></span> <span data-ttu-id="7ab9b-134">Kentät **Resurssin työn sijainti** ja **Resurssin työtunnit** pitäisi lisätä entiteetteihin **Aikamerkintä**, **Todellinen arvo**, **Laskurivin tiedot** ja **Kirjauskansion rivi**.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-134">The **Resource Work Location** and **Resource Work hours** fields should be added to the **Time Entry**, **Actual**, **Invoice Line Detail**, and **Journal Line** entities.</span></span>

1. <span data-ttu-id="7ab9b-135">Napsauta PSA:ssa **Asetukset** > **Ratkaisut** kaksoisnapsauta sitten **\<organisaatiosi nimi>: hinnoitteludimensiot**.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-135">In PSA, click **Settings** > **Solutions**, and then double-click **\<your organization name> pricing dimensions**.</span></span>
2. <span data-ttu-id="7ab9b-136">Valitse vasemman siirtymisruudun Ratkaisunhallinnassa **Entiteetit > Aikamerkintä**.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-136">In Solution Explorer, on the left navigation pane, select  **Entities > Time Entry**.</span></span>
3. <span data-ttu-id="7ab9b-137">Laajenna **Tarjousrivin tiedot** -entiteetti ja valitse sitten **Kentät**.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-137">Expand the **Quote Line Detail** entity, and then select **Fields**.</span></span>
4. <span data-ttu-id="7ab9b-138">Napsauta **Uusi** luodaksesi kentän nimellä **Resurssin työn sijainti** ja valitse kentän tyypiksi **Asetusjoukko**.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-138">Click **New** to create a new field called **Resource Work Location** and select **Option set** as the field type.</span></span> 
5. <span data-ttu-id="7ab9b-139">Valitse **Käytä olemassa olevaa asetusjoukkoa**, valitse asetusjoukko **Resurssin työn sijainti** ja napsauta **Tallenna**.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-139">Select **Use an existing Option set**, select the **Resource Work Location** option set, and then click **Save**.</span></span>
6. <span data-ttu-id="7ab9b-140">Toista vaiheet 1–5 lisätäksesi tämän kentän entiteetteihin **Todellinen arvo**, **Laskurivin tiedot** ja **Kirjauskansion rivi**.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-140">Repeat steps 1 - 5 to add this field to the **Actual**, **Invoice Line Detail**, and **Journal Line** entities.</span></span>
7. <span data-ttu-id="7ab9b-141">Toista vaiheet 1–6 **Resurssin työtunnit** -asetusjoukon osalta.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-141">Repeat steps 1 - 6 for the **Resource Work Hours** option set.</span></span> 

> ![Resurssin työn sijainnin lisääminen Aikamerkintään](media/RWL-time-entry.png)

<span data-ttu-id="7ab9b-143">Tämä täydentää asetusjoukkoperusteisiin mukautettuihin dimensioihin vaadittavat rakennemuutokset.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-143">This completes the schema changes required for option set-based custom dimensions.</span></span>

## <a name="entity-based-custom-pricing-dimensions"></a><span data-ttu-id="7ab9b-144">Entiteettiperusteiset mukautetut hinnoitteludimensiot</span><span class="sxs-lookup"><span data-stu-id="7ab9b-144">Entity-based custom pricing dimensions</span></span>

<span data-ttu-id="7ab9b-145">Kun mukautettu hinnoitteludimensio on entiteetti, lisäät 1:N-suhteita dimensioentiteetin ja keskeisten Project Service -entiteettien välille.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-145">When the custom pricing dimension is an entity, you will add 1:N relationships between the dimension entity and key Project Service entities.</span></span> <span data-ttu-id="7ab9b-146">Kun käytetään yllä esitettyä Vakionimike-esimerkkiä on syytä olettaa, että jokaiselle työntekijälle määritetään vakionimike.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-146">Using the Standard Title example from above, it is reasonable to expect that each employee is assigned a standard title.</span></span> <span data-ttu-id="7ab9b-147">Tämän surauksena tarvitset 1:N-suhteen Vakionimikkeestä Varattavissa olevaan resurssiin tai N:1-suhteen, jos se luodaan Varattavissa olevasta resurssista Vakionimikkeeseen.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-147">SAs a result, you will need a 1:N relationship from Standard Title to Bookable Resource, or a N:1 relationship if it were created from Bookable Resource to Standard Title.</span></span>

1. <span data-ttu-id="7ab9b-148">Napsauta PSA:ssa **Asetukset** > **Ratkaisut** kaksoisnapsauta sitten **\<organisaatiosi nimi>: hinnoitteludimensiot**.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-148">In PSA, click **Settings** > **Solutions**, and then double-click **\<your organization name> pricing dimensions**.</span></span> 
2. <span data-ttu-id="7ab9b-149">Valitse vasemman siirtymisruudun Ratkaisunhallinnassa **Entiteetit > Vakionimike**.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-149">In Solution Explorer, on the left navigation pane, select **Entities > Standard Title**.</span></span>
3. <span data-ttu-id="7ab9b-150">Laajenna entiteetti **Vakionimike** ja valitse **1:N-suhteet**.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-150">Expand the **Standard Title** entity and select **1:N Relationships**.</span></span>
4. <span data-ttu-id="7ab9b-151">Napsauta **Uusi** luodaksesi uuden 1:N-suhteen nimellä **Vakionimikkeestä Varattavissa olevaan resurssiin**.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-151">Click **New** to create a new 1:N relationship called **Standard Title to Bookable Resource**.</span></span> <span data-ttu-id="7ab9b-152">Syötä tarvittavat tiedot ja napsauta **Tallenna**.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-152">Enter the required information, and then click **Save**.</span></span>

> ![Vakionimikkeen lisääminen viitekentäksi Varattavissa olevaan resurssiin](media/ST-BR.png)

<span data-ttu-id="7ab9b-154">Vakionimike on lisättävä myös Project Servicen hinnoitteluentiteetteihin **Roolin hinta** ja **Roolin hinnankorotus**.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-154">The Standard Title will also need to be added to Project Service Pricing entities, **Role Price** and **Role Price Markup**.</span></span> <span data-ttu-id="7ab9b-155">Tämä toteutetaan myös käyttämällä 1:N-suhteita entiteettien **Vakionimike** ja **Roolihinta** ja entiteettien **Vakionimike** ja **Roolin hinnankorotus** välillä.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-155">This is also completed using 1:N relationships between the **Standard Title** and **Role Price** entities and **Standard Title** and **Role Price Markup** entities.</span></span>

1. <span data-ttu-id="7ab9b-156">Valitse vasemman siirtymisruudun Ratkaisunhallinnassa **Entiteetit > Vakionimike**.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-156">In Solution Explorer, on the left navigation pane, select **Entities > Standard Title**.</span></span>
2. <span data-ttu-id="7ab9b-157">Laajenna entiteetti **Vakionimike** ja valitse **1:N-suhteet**.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-157">Expand the **Standard Title** entity and select **1:N Relationships**.</span></span>
3. <span data-ttu-id="7ab9b-158">Napsauta **Uusi** luodaksesi uuden 1:N-suhteen nimellä **Vakionimikkeestä Roolin hintaan**.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-158">Click **New** to create a new 1:N relationship called **Standard Title to Role Price**.</span></span> <span data-ttu-id="7ab9b-159">Syötä tarvittavat tiedot ja napsauta **Tallenna**.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-159">Enter the required information, and then click **Save**.</span></span>
4. <span data-ttu-id="7ab9b-160">Toista vaiheet 1–4 luodaksesi 1:N-suhteita entiteettien **Vakionimike** ja **Roolin hinnankorotus** välille,</span><span class="sxs-lookup"><span data-stu-id="7ab9b-160">Repeat steps 1 - 4 to create 1:N relationships between the **Standard Title** and **Role Price Markup** entities,</span></span>

<span data-ttu-id="7ab9b-161">Projektin myynti- ja arviointivaiheissa tarjouksen/projektin hinnoittelua varten kullekin vakionimikkeelle tarvitaan arviot työmäärästä.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-161">In the sales and estimation phases for the project, to price the Quote/Project, estimates of the work effort are required for each standard title.</span></span> <span data-ttu-id="7ab9b-162">Tämä tarkoittaa, että tarvitaan 1:N-suhteita Vakionimikkeestä jokaiseen näistä Project Servicen arviointientiteeteistä:</span><span class="sxs-lookup"><span data-stu-id="7ab9b-162">This means that 1:N relationships from Standard Title to each of these estimation entities in Project Service are needed:</span></span> 

- <span data-ttu-id="7ab9b-163">**Tarjousrivin tiedot**</span><span class="sxs-lookup"><span data-stu-id="7ab9b-163">**Quote line Detail**</span></span>
- <span data-ttu-id="7ab9b-164">**Projektin sopimusrivin tiedot**</span><span class="sxs-lookup"><span data-stu-id="7ab9b-164">**Project Contract Line Detail**</span></span>
- <span data-ttu-id="7ab9b-165">**Projektiryhmän jäsen**</span><span class="sxs-lookup"><span data-stu-id="7ab9b-165">**Project Team Member**</span></span>
- <span data-ttu-id="7ab9b-166">**Arviorivi**</span><span class="sxs-lookup"><span data-stu-id="7ab9b-166">**Estimate Line**</span></span>

5. <span data-ttu-id="7ab9b-167">Toista vaiheet 1–5 luodaksesi 1:n-suhteita arvosta **Vakionimike** entiteetteihin **Tarjousrivin tiedot**, **Projektin sopimusrivin tiedot**, **Projektiryhmän jäsen** ja **Arviorivi**.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-167">Repeat steps 1 - 5 to create 1:N relationships from **Standard Title** to **Quote line Detail**, **Project Contract Line Detail**, **Project Team Member**, and **Estimate Line**.</span></span>

> ![Vakionimikkeen lisääminen viitekentäksi Arvioriviin](media/ST-Estimate-Line.png)

<span data-ttu-id="7ab9b-169">Toimitus- ja laskutusvaiheissa kunkin vakionimikkeen suorittama työ on hinnoiteltava oikein projektin todellisissa arvoissa.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-169">In the Delivery and Invoicing phases, the work completed by each standard title must be accurately priced on the Project Actuals.</span></span> <span data-ttu-id="7ab9b-170">Tämä tarkoittaa, että tarvitaan 1:N-suhteita arvosta **Vakionimike** entiteetteihin **Aikamerkintä**, **Todellinen arvo**, **Laskurivin tiedot** ja **Kirjauskansion rivi**.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-170">This means that there needs to be 1:N relationships from **Standard Title** to **Time Entry**, **Actual**, **Invoice Line Detail**, and **Journal Line entities**.</span></span>

6. <span data-ttu-id="7ab9b-171">Toista vaiheet 1–6 luodaksesi 1:N-suhteita arvosta **Vakionimike** entiteetteihin **Aikamerkintä**, **Todellinen arvo**, **Laskurivin tiedot** ja **Kirjauskansion rivi**.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-171">Repeat steps 1 - 6 to create 1:N relationships from **Standard Title** to **Time Entry**, **Actual**, **Invoice Line Detail**, and **Journal Line entities**.</span></span>

> ![Vakionimikkeen lisääminen viitekentäksi Aikamerkintään](media/ST-Mapping.png)

### <a name="set-up-dimension-value-defaulting-using-the-mappings-features-of-the-platform"></a><span data-ttu-id="7ab9b-173">Dimension arvon vakioinnin määritys ympäristön yhdistämismääritystoimintojen avulla</span><span class="sxs-lookup"><span data-stu-id="7ab9b-173">Set up Dimension value defaulting using the mappings features of the platform</span></span>
<span data-ttu-id="7ab9b-174">Aikamäärityksen osalta olisi hyödyllistä, jos järjestelmä hakee aikamerkinnän vakionimikkeen oletusarvon aikamerkinnän tekevästä varattavissa olevasta resurssista.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-174">For Time Entry, it would be helpful to have the system default the standard title on the Time Entry from the Bookable Resource that is recording the time entry.</span></span> <span data-ttu-id="7ab9b-175">Noudata seuraavia vaiheita lisätäksesi kenttien yhdistämismäärityksiä 1:N-suhteeseen arvosta **Varattavissa oleva resurssi** arvoon **Aikamerkintä**.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-175">Use the following steps to add field mappings on the 1:N relationship from **Bookable Resource** to **Time Entry**.</span></span>

1. <span data-ttu-id="7ab9b-176">Valitse vasemman siirtymisruudun Ratkaisunhallinnassa **Entiteetit > Vakionimike**.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-176">In Solution Explorer, on the left navigation pane, select **Entities > Standard Title**.</span></span>
2. <span data-ttu-id="7ab9b-177">Laajenna entiteetti **Vakionimike** ja valitse **1:N-suhteet**.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-177">Expand the **Standard Title** entity and select **1:N Relationships**.</span></span>
3. <span data-ttu-id="7ab9b-178">Kaksoisnapsauta **Varattavissa olevasta resurssista Aikamerkintään**.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-178">Double-click **Bookable Resource to Time Entry**.</span></span> <span data-ttu-id="7ab9b-179">Napsauta **Suhde**-sivulla **Käytä kenttien yhdistämismäärityksiä**.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-179">On the **Relationship** page, click **Use Field mappings**.</span></span> 
4. <span data-ttu-id="7ab9b-180">Napsauta **Uusi** luodaksesi uuden kenttien yhdistämismäärityksen **Varattavissa oleva resurssi** -entiteetin **Vakionimike**-kentän ja **Aikamerkintä**-entiteetin **Vakionimike**-viitekentän välille.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-180">Click **New** to create a new field mapping between the **Standard Title** field on the **Bookable Resource** entity to the **Standard Title** reference field on **Time Entry** entity.</span></span> 

> ![Kenttien yhdistämismääritysten luominen sen mahdollistamiseksi, että kentän Vakionimike oletusarvoiseksi yhdistämismääritykseksi otetaan Varattavissa olevasta resurssista Aikamerkintään](media/ST-Mapping2.png)


<span data-ttu-id="7ab9b-182">Tämä täydentää entiteettiperusteisiin mukautettuihin dimensioihin vaadittavat rakennemuutokset.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-182">This completes the schema changes required for entity-based custom dimensions.</span></span>

##  <a name="add-custom-fields-to-forms-views-and-business-rules"></a><span data-ttu-id="7ab9b-183">Muokattujen kenttien lisääminen lomakkeisiin, näkymiin ja liiketoimintasääntöihin</span><span class="sxs-lookup"><span data-stu-id="7ab9b-183">Add custom fields to forms, views, and business rules</span></span>

<span data-ttu-id="7ab9b-184">Kun olet tehnyt kaikki vaadittavat rakennemuutokset, seuraavana vaiheena on tehdä kentät näkyviksi käyttöliittymässä lisäämällä kentät lomakkeisiin ja näkymiin.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-184">After you have made all of the required schema changes, the next step is to make the fields visible in the UI by adding the fields to the forms and views.</span></span>

1. <span data-ttu-id="7ab9b-185">Avaa lomake tai näkymä.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-185">Open the form or the view.</span></span> <span data-ttu-id="7ab9b-186">Valitse kenttä oikeanpuoleisessa siirtymisruudussa ja vedä se lomakekaavioon.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-186">On the right navigation pane, select the field and drag it on to the form canvas.</span></span> 
2. <span data-ttu-id="7ab9b-187">Jos muokkaat näkymää, käytä oikeanpuoleista siirtymäruutua, napsauta **Lisää kenttiä**, valitse **Kenttäluettelo**-valintaikkunassa tarvitsemasi kentät ja napsauta **OK**.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-187">If you are editing a view, use the right navigation pane, click **Add fields**, and in the **Field listing** dialog box, select the fields that you need and click **Ok**.</span></span>

<span data-ttu-id="7ab9b-188">Seuraavassa luettelossa esitetään kattava entiteettiperusteinen luettelo niistä valmiina olevista lomakkeista ja näkymistä, jotka on päivitettävä uusilla kentillä.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-188">The following table provides a comprehensive list of out-of-the-box forms and views, by entity, that will need to be updated with the new fields.</span></span> <span data-ttu-id="7ab9b-189">Jos olet mukauttanut näitä entiteettejä uusilla näkymillä tai lomakkeilla, lisää uudet kentät myös niihin.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-189">If you have any additional views or forms in your customizations on these entities, add the new fields to those as well.</span></span>

| <span data-ttu-id="7ab9b-190">Project Service -entiteetti</span><span class="sxs-lookup"><span data-stu-id="7ab9b-190">Project Service Entity</span></span>        | <span data-ttu-id="7ab9b-191">Uutta kenttää edellyttävät lomakkeet</span><span class="sxs-lookup"><span data-stu-id="7ab9b-191">Forms that need the new field</span></span>   |<span data-ttu-id="7ab9b-192">Uutta kenttää edellyttävät näkymät</span><span class="sxs-lookup"><span data-stu-id="7ab9b-192">Views that need the new field</span></span>      |
| ------------------------------|---------------------------------|----------------------------------|
|  <span data-ttu-id="7ab9b-193">Roolin hinta</span><span class="sxs-lookup"><span data-stu-id="7ab9b-193">Role Price</span></span>|<span data-ttu-id="7ab9b-194">• Tiedot</span><span class="sxs-lookup"><span data-stu-id="7ab9b-194">• Information</span></span> |<span data-ttu-id="7ab9b-195">• Aktiiviset resurssiluokan hinnat</span><span class="sxs-lookup"><span data-stu-id="7ab9b-195">• Active Resource Category Prices</span></span><br> <span data-ttu-id="7ab9b-196">• Resurssiluokan hintojen liitetty näkymä</span><span class="sxs-lookup"><span data-stu-id="7ab9b-196">• Resource Category Price Associated View</span></span>|
|  <span data-ttu-id="7ab9b-197">Roolin hinnankorotus</span><span class="sxs-lookup"><span data-stu-id="7ab9b-197">Role Price Markup</span></span>|<span data-ttu-id="7ab9b-198">• Tiedot</span><span class="sxs-lookup"><span data-stu-id="7ab9b-198">• Information</span></span>|<span data-ttu-id="7ab9b-199">• Aktiivisen roolin hinnankorotukset</span><span class="sxs-lookup"><span data-stu-id="7ab9b-199">• Active Role Price Markup</span></span><br><span data-ttu-id="7ab9b-200">• Roolin hinnankorotuksen liitetty näkymä</span><span class="sxs-lookup"><span data-stu-id="7ab9b-200">• Role Price Markup Associated View</span></span>|
|  <span data-ttu-id="7ab9b-201">Tarjousrivin tiedot</span><span class="sxs-lookup"><span data-stu-id="7ab9b-201">Quote line detail</span></span>|<span data-ttu-id="7ab9b-202">• Projektin tiedot</span><span class="sxs-lookup"><span data-stu-id="7ab9b-202">• Project Information</span></span><br><span data-ttu-id="7ab9b-203">• Projektin pikaluonti</span><span class="sxs-lookup"><span data-stu-id="7ab9b-203">• Project Quick Create</span></span>|<span data-ttu-id="7ab9b-204">• Aktiiviset tarjousrivin tiedot</span><span class="sxs-lookup"><span data-stu-id="7ab9b-204">• Active Quote Line Detail</span></span><br><span data-ttu-id="7ab9b-205">• Yhdistetyt tarjousrivin tiedot</span><span class="sxs-lookup"><span data-stu-id="7ab9b-205">• Combined Quote Line Details</span></span><br><span data-ttu-id="7ab9b-206">• Tarjousrivin tietojen liitetty näkymä</span><span class="sxs-lookup"><span data-stu-id="7ab9b-206">• Quote Line Detail associated view</span></span>|
|  <span data-ttu-id="7ab9b-207">Projektin sopimusrivin tiedot</span><span class="sxs-lookup"><span data-stu-id="7ab9b-207">Project Contract line detail</span></span>|<span data-ttu-id="7ab9b-208">• Projektin tiedot</span><span class="sxs-lookup"><span data-stu-id="7ab9b-208">• Project Information</span></span><br><span data-ttu-id="7ab9b-209">• Projektin pikaluonti</span><span class="sxs-lookup"><span data-stu-id="7ab9b-209">• Project Quick Create</span></span>|<span data-ttu-id="7ab9b-210">• Yhdistetyt sopimusrivin tiedot</span><span class="sxs-lookup"><span data-stu-id="7ab9b-210">• Combined Contract Line Details</span></span><br><span data-ttu-id="7ab9b-211">• Aktiiviset sopimusrivin tiedot</span><span class="sxs-lookup"><span data-stu-id="7ab9b-211">• Active Contract Line Details</span></span><br><span data-ttu-id="7ab9b-212">• Sopimusrivin tietojen liitetty näkymä</span><span class="sxs-lookup"><span data-stu-id="7ab9b-212">• Contract Line Details Associated View</span></span>|
|  <span data-ttu-id="7ab9b-213">Projektiryhmän jäsen</span><span class="sxs-lookup"><span data-stu-id="7ab9b-213">Project Team Member</span></span>|<span data-ttu-id="7ab9b-214">• Tiedot</span><span class="sxs-lookup"><span data-stu-id="7ab9b-214">• Information</span></span><br><span data-ttu-id="7ab9b-215">• Uusi lomake</span><span class="sxs-lookup"><span data-stu-id="7ab9b-215">• New Form</span></span>|<span data-ttu-id="7ab9b-216">• Aktiiviset projektiryhmän jäsenet</span><span class="sxs-lookup"><span data-stu-id="7ab9b-216">• Active Project Team Members</span></span><br><span data-ttu-id="7ab9b-217">• Projektiryhmän jäsenet</span><span class="sxs-lookup"><span data-stu-id="7ab9b-217">• Project Team Members</span></span><br><span data-ttu-id="7ab9b-218">• Projektiryhmän jäsenten liitetty näkymä</span><span class="sxs-lookup"><span data-stu-id="7ab9b-218">• Project Team members associated View</span></span>|
|  <span data-ttu-id="7ab9b-219">Aikamerkintä</span><span class="sxs-lookup"><span data-stu-id="7ab9b-219">Time Entry</span></span>|<span data-ttu-id="7ab9b-220">• Tiedot</span><span class="sxs-lookup"><span data-stu-id="7ab9b-220">• Information</span></span><br><span data-ttu-id="7ab9b-221">• Luo aikamerkintä</span><span class="sxs-lookup"><span data-stu-id="7ab9b-221">• Create Time Entry</span></span>|<span data-ttu-id="7ab9b-222">• Omat aikamerkinnät päivämäärän mukaan</span><span class="sxs-lookup"><span data-stu-id="7ab9b-222">• My Time Entries By Date</span></span><br><span data-ttu-id="7ab9b-223">• Omat aikamerkinnät tällä viikolla</span><span class="sxs-lookup"><span data-stu-id="7ab9b-223">• My time Entries for this week</span></span><br><span data-ttu-id="7ab9b-224">• Aikamerkinnät hyväksyttäväksi</span><span class="sxs-lookup"><span data-stu-id="7ab9b-224">• Time entries for approval</span></span>|
|  <span data-ttu-id="7ab9b-225">Kirjauskansion rivi</span><span class="sxs-lookup"><span data-stu-id="7ab9b-225">Journal Line</span></span>|<span data-ttu-id="7ab9b-226">• Tiedot</span><span class="sxs-lookup"><span data-stu-id="7ab9b-226">• Information</span></span><br><span data-ttu-id="7ab9b-227">• Pikaluonti</span><span class="sxs-lookup"><span data-stu-id="7ab9b-227">• Quick create</span></span>|<span data-ttu-id="7ab9b-228">• Aktiiviset kirjauskansion rivit</span><span class="sxs-lookup"><span data-stu-id="7ab9b-228">• Active journal lines</span></span><br><span data-ttu-id="7ab9b-229">• Kirjauskansion rivin liitetty näkymä</span><span class="sxs-lookup"><span data-stu-id="7ab9b-229">• Journal Line associated view</span></span>|
|  <span data-ttu-id="7ab9b-230">Laskurivin tiedot</span><span class="sxs-lookup"><span data-stu-id="7ab9b-230">Invoice Line Detail</span></span>|<span data-ttu-id="7ab9b-231">• Tiedot</span><span class="sxs-lookup"><span data-stu-id="7ab9b-231">• Information</span></span><br><span data-ttu-id="7ab9b-232">• Pikaluonti</span><span class="sxs-lookup"><span data-stu-id="7ab9b-232">• Quick create</span></span>|<span data-ttu-id="7ab9b-233">• Aktiiviset laskurivin tiedot</span><span class="sxs-lookup"><span data-stu-id="7ab9b-233">• Active Invoice Line Details</span></span><br><span data-ttu-id="7ab9b-234">• Laskun veloitettavat tapahtumat</span><span class="sxs-lookup"><span data-stu-id="7ab9b-234">• Chargeable Invoice Transactions</span></span><br><span data-ttu-id="7ab9b-235">• Laskun ilmaiset tapahtumat</span><span class="sxs-lookup"><span data-stu-id="7ab9b-235">• Complimentary Invoice Transactions</span></span><br><span data-ttu-id="7ab9b-236">• Laskurivin tietojen liitetty näkymä</span><span class="sxs-lookup"><span data-stu-id="7ab9b-236">• Invoice Line Detail associated view</span></span><br><span data-ttu-id="7ab9b-237">• Laskun ei-veloitettavat tapahtumat</span><span class="sxs-lookup"><span data-stu-id="7ab9b-237">• Non-Chargeable Invoice Transactions</span></span>|
|  <span data-ttu-id="7ab9b-238">Todellinen</span><span class="sxs-lookup"><span data-stu-id="7ab9b-238">Actual</span></span>|<span data-ttu-id="7ab9b-239">• Tiedot</span><span class="sxs-lookup"><span data-stu-id="7ab9b-239">• Information</span></span><br><span data-ttu-id="7ab9b-240">• Aktiiviset todelliset arvot</span><span class="sxs-lookup"><span data-stu-id="7ab9b-240">• Active Actuals</span></span>|<span data-ttu-id="7ab9b-241">• Todellisten arvojen liitetty näkymä</span><span class="sxs-lookup"><span data-stu-id="7ab9b-241">• Actual Associated view</span></span>|

<span data-ttu-id="7ab9b-242">Mukautettuja kenttiä voi määrityksistäsi riippuen olla tarpeen lisätä myös liiketoimintasääntöihin.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-242">Custom fields may also need to be added on business rules depending on what you have defined.</span></span> <span data-ttu-id="7ab9b-243">Yksi valmis esimerkki on liiketoimintasääntöä **Aikamerkinnän muokattavuus tilan perusteella** varten.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-243">One out-of-the-box example is for the business rule **Editability of Time Entry based on status**.</span></span> <span data-ttu-id="7ab9b-244">Tämä sääntö määrittää, mitkä kentät on lukittava, kun Aikamerkintä-tila on tilassa, jota ei voi muokata, kuten **Hyväksytty**.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-244">This rule defines which fields need to be locked when the Time Entry is in a non-editable status such as **Approved**.</span></span> <span data-ttu-id="7ab9b-245">Lisää kenttiä tähän liiketoimintasääntöön, jotta kenttiä ei voi muokata, kun Aikamerkinnän tila on muu kuin **Luonnos** tai **Palautettu**.</span><span class="sxs-lookup"><span data-stu-id="7ab9b-245">Add fields to this business rule so that the fields are locked for editing when the Time Entry is in a status other than **Draft** or **Returned**.</span></span>
